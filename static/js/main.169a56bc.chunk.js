(this.webpackJsonplisten=this.webpackJsonplisten||[]).push([[0],{18:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(4),c=n.n(a),o=n(20),s=n.n(o),i=(n(27),n(9)),l=n(10),u=n(11),h=n(12),d=n(6),f=n(21),p=n(5),b=(n(28),n(18),n(13)),j=n.n(b);var v={0:"C4",1:"C4#",2:"D4",3:"D4#",4:"E4",5:"F4",6:"F4#",7:"G4",8:"G4#",9:"A4",10:"A4#",11:"B4",12:"C5",13:"C5#",14:"D5"},m=[0,2,4,5,7,9,11,12,14],O={0:"P1",1:"m2",2:"M2",3:"m3",4:"M3",5:"P4",6:"d5",7:"P5",8:"m6",9:"M6",10:"m7",11:"M7",12:"P8",13:"m9",14:"M9"},g=Object.values(O),y=function(e){Object(u.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(d.a)(e);if(t()){var a=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={url:"https://raw.githubusercontent.com/matthewlee626/Music/master/octavo/C4C4.mp3",playing:r.props.playing,loop:r.props.loop,speed:r.props.speed,isPlaying:r.props.playing===j.a.status.PLAYING,buttonValue:r.props.isPlaying?"Pause":"Play",first:0,second:0,interval:0,score:r.props.score,correct:"Start!"},r.handleChange=r.handleChange.bind(Object(p.a)(r)),r.returnbuttons=r.returnbuttons.bind(Object(p.a)(r)),r}return Object(l.a)(n,[{key:"handleChange",value:function(e,t){t?this.setState({correct:"Correct!"}):this.setState({correct:"Incorrect!"}),this.props.onScoreChange(e),g=Object.values(O),console.log("Hello!");var n=m[Math.floor(Math.random()*m.length)],r=m[Math.floor(Math.random()*m.length)];this.setState({first:n,second:r,interval:Math.abs(n-r),url:"https://raw.githubusercontent.com/matthewlee626/Music/master/octavo/"+v[n]+v[r]+".mp3"})}},{key:"returnbuttons",value:function(e,t){for(var n=this,a=[];a.length<e;){var c=Math.floor(15*Math.random());-1===a.indexOf(c)&&a.push(c)}for(var o=[],s=[],i="",l=0;l<e;l++){i=a[l];var u=g[i];s.push(u),o.push(Object(r.jsx)("button",{onClick:function(){return n.handleChange(n.props.score,!1)},className:"option",children:u}))}return o}},{key:"render",value:function(){var e=this,t=this.props.score,n=O[this.state.interval],a=Math.floor(6*Math.random());return Object(r.jsxs)("div",{className:"soundcontainer",children:[Object(r.jsx)("div",{children:Object(r.jsxs)("h2",{children:["Score: ",t]})}),Object(r.jsx)("div",{children:Object(r.jsx)("h4",{children:this.state.correct})}),Object(r.jsxs)("div",{children:[this.returnbuttons(a,n),Object(r.jsx)("button",{onClick:function(){return e.handleChange(t+1,!0)},className:"option",children:n}),this.returnbuttons(6-a,0)]}),Object(r.jsx)(j.a,{url:this.state.url,playStatus:this.state.playing,loop:this.state.loop,playbackRate:this.state.speed})]})}}]),n}(c.a.Component),x=n(16),w=n.n(x);w.a.initializeApp({apiKey:"AIzaSyAA4JA4UBLe3Zn2mzD6ppQWGYXnvsrVZQs",authDomain:"octavo-501f9.firebaseapp.com",databaseURL:"https://octavo-501f9.firebaseio.com",projectId:"octavo-501f9",storageBucket:"",messagingSenderId:"438954623086",appId:"1:438954623086:web:5b8acc91bf22c0efc7267f"});var S=w.a;var C=function(e){Object(u.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(d.a)(e);if(t()){var a=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={playing:j.a.status.PLAYING,renderWhich:0,score:0,username:"",items:[]},r.handleScoreChange=r.handleScoreChange.bind(Object(p.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(p.a)(r)),r.handleChange=r.handleChange.bind(Object(p.a)(r)),r}return Object(l.a)(n,[{key:"handleScoreChange",value:function(e){this.setState({score:e})}},{key:"handleChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=S.database().ref("items"),n=(new Date).getTime(),r={score:this.state.score,username:this.state.username,date:n};t.push(r),this.setState({score:0,username:""}),window.location.reload()}},{key:"removeItem",value:function(e){S.database().ref("/items/".concat(e)).remove()}},{key:"componentDidMount",value:function(){var e=this;S.database().ref("items").on("value",(function(t){var n=t.val(),r=[];for(var a in n)r.push({id:a,score:n[a].score,username:n[a].username});r.sort((function(e,t){return t.score-e.score})),e.setState({items:r})}))}},{key:"returnMain",value:function(){var e=this.state.score;return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"app",children:[Object(r.jsx)("header",{children:Object(r.jsx)("div",{className:"wrapper",children:Object(r.jsx)("h1",{children:"Octavo"})})}),Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("div",{className:"sound",children:Object(r.jsx)(y,{playing:this.state.playing,loop:!0,speed:1,score:e,onScoreChange:this.handleScoreChange})}),Object(r.jsxs)("section",{className:"add-item",children:[Object(r.jsx)("h3",{children:"Submit your score!"}),Object(r.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(r.jsx)("input",{type:"text",name:"username",placeholder:"What's your name?",onChange:this.handleChange,value:this.state.username}),Object(r.jsx)("button",{children:"Add Score"})]})]}),Object(r.jsxs)("section",{className:"leaderboard",children:[Object(r.jsx)("h2",{children:"Leaderboard"}),Object(r.jsxs)("ul",{className:"list",children:[Object(r.jsxs)("li",{children:[Object(r.jsx)("h3",{children:"Name"}),Object(r.jsx)("h3",{className:"score",children:"Score"})]},"header"),this.state.items.map((function(e){return Object(r.jsxs)("li",{children:[Object(r.jsx)("p",{children:""===e.username?"Anonymous":e.username}),Object(r.jsx)("p",{children:e.score})]},e.id)}))]})]})]}),Object(r.jsx)("footer",{children:Object(r.jsx)("div",{className:"wrapper",children:Object(r.jsx)("p",{children:"matthewlee.xyz \xa9 2020"})})})]})})}},{key:"render",value:function(){if(0===this.state.renderWhich)return this.returnMain()}}]),n}(c.a.Component);var k=function(e){Object(u.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(d.a)(e);if(t()){var a=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)(C,{})}}]),n}(c.a.Component),R=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function M(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(Object(r.jsx)(k,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");R?(!function(e,t){fetch(e).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):M(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):M(t,e)}))}}()}},[[49,1,2]]]);
//# sourceMappingURL=main.169a56bc.chunk.js.map